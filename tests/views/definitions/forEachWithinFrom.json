{
  "name": "forEach within from",
  "desc": "Note that the use of sibling forEach statements in this query generates a cross join, which is generally considered an anti-pattern. This query is provided to verify the behaviour of implementations in this scenario.",
  "resource": "Patient",
  "select": [
    {
      "name": "id",
      "expr": "id"
    },
    {
      "from": "name",
      "select": [
        {
          "forEach": "prefix",
          "select": [
            {
              "name": "name_prefix",
              "expr": "$this"
            }
          ]
        },
        {
          "forEach": "given",
          "select": [
            {
              "name": "given_name",
              "expr": "$this"
            }
          ]
        }
      ]
    }
  ]
}
